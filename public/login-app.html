<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Login ‚Ä¢ Valida√ß√£o</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#e9f7ef;
}

/* =========================
   CABE√áALHO
========================= */
.site-header {
  background: white;
  padding: 10px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.brandline {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 15px;
  flex-wrap: wrap;
}

.logo {
  max-height: 160px;
}

.brand-center {
  flex: 1;
  text-align: center;
}

.site-title {
  font-size: 34px;
  color: #0a7a2a;
  font-weight: bold;
}

.slogan {
  font-size: 15px;
  font-style: italic;
  color: #555;
}

.boas-vindas {
  background: #dfffe0;
  padding: 12px;
  border-radius: 8px;
  margin-top: 10px;
  font-size: 17px;
  font-weight: 600;
}

/* =========================
   LOGIN
========================= */
.login-wrapper{
  min-height: calc(100vh - 260px);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:30px 15px;
}

.box{
  background:#fff;
  padding:30px;
  border-radius:12px;
  width:100%;
  max-width:360px;
  box-shadow:0 4px 12px rgba(0,0,0,.2);
}

input,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  font-size:16px;
}

button{
  background:#198754;
  color:#fff;
  border:none;
  border-radius:8px;
  cursor:pointer;
}


/* =========================
   RODAP√â
========================= */
.footer{
  background:#dfffe0;
  padding:12px;
  text-align:center;
  font-size:12px;
  line-height:1.4;
}

@media (max-width:480px){
  .site-title{ font-size:26px; }
  .logo{ max-height:120px; }
}
</style>
</head>

<body>

<!-- CABE√áALHO -->
<header class="site-header">
  <div class="brandline">
    <img src="logo-prometheus.png" class="logo">
    <div class="brand-center">
      <h1 class="site-title">Cart√£o AproveitAI</h1>
      <p class="slogan">Tecnologia com Consci√™ncIA gera Resultado.</p>
      <p class="boas-vindas">
        üì≤ <strong>Valida√ß√£o por QR Code</strong><br>
        √Årea exclusiva do parceiro
      </p>
    </div>
    <img src="logo-aproveitai.png" class="logo">
  </div>
</header>

<!-- LOGIN -->
<div class="login-wrapper">
  <div class="box">
    <h3>üîê Login Valida√ß√£o</h3>

    <input type="text" id="cpf" placeholder="Login">

    <input id="senha" type="password" placeholder="Senha">
<button type="button" onclick="toggleSenha()" style="margin-top:8px">
  üëÅ Mostrar senha
</button>

    <button onclick="logar()">Entrar</button>
  </div>
</div>

<!-- RODAP√â -->
<footer class="footer">
  ¬© 2025 Cart√£o AproveitAI ‚Ä¢ PROMETHEUS EROPRO<br>
  <strong>Aviso legal:</strong> O Cart√£o AproveitAI n√£o garante descontos.
  Benef√≠cios e promo√ß√µes s√£o definidos exclusivamente pelos parceiros,
  v√°lidos, em regra, para pagamentos √† vista.
</footer>

<!-- SCRIPT (APENAS JS) -->
<script>
const API = "https://script.google.com/macros/s/AKfycbzhwXhtWdsDSuABRneoz6QAD1SxpnMq3vc8e1FhtknlB7_1j6qLjYIbPA0qPJS7ck7y/exec";

function toggleSenha(){
  const campo = document.getElementById("senha");
  campo.type = campo.type === "password" ? "text" : "password";
}

async function logar(){
  const cpf = document.getElementById("cpf").value.trim();
  const senha = document.getElementById("senha").value.trim();

  if(!cpf || !senha){
    alert("Informe login e senha");
    return;
  }

  const url = `${API}?acao=loginApp&cpf=${encodeURIComponent(cpf)}&senha=${encodeURIComponent(senha)}`;
  const r = await fetch(url).then(r=>r.json());

  if(!r.ok){
    alert("Login inv√°lido ou usu√°rio inativo");
    return;
  }

  localStorage.setItem("APP_VALIDAR","SIM");
  localStorage.setItem("operadorCPF", r.cpf);
  localStorage.setItem("operadorNome", r.nome);
  localStorage.setItem("parceiroNome", r.parceiro_nome);
  localStorage.setItem("parceiroCNPJ", r.parceiro_cnpj);

  location.href = "app-validar.html";
}
</script>

</body>
</html>
